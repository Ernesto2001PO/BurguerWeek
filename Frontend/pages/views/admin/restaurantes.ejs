<div class="content-header">restaurantes</div>
<button onclick="mostrarFormulariorestaurante()">Crear restaurante</button>
<div class="content-body">
    <table>
        <thead>
            <tr>
                <th>Logo</th>
                <th>Nombre</th>
                <th> </th>
            </tr>

        </thead>
        <tbody>

            <tr>
                <% restaurantes.forEach(restaurante=> { %>
                    <td>
                        <img src="/<%= restaurante.logo %>" alt="Logo" style="width: 50px; height: 50px;" />
                    </td>
                    <td>
                        <%= restaurante.nombre %>
                    </td>
                    <td>
                        <button id="editar">Editar</button>
                        <button id="eliminar">Eliminar</button>
                    </td>
            </tr>
            <% }); %>
        </tbody>
    </table>
</div>


<script>
    function mostrarFormulariorestaurante() {
        const content = document.getElementById("content");
        content.innerHTML = `
<div class="content-header">Agregar restaurante</div>
<div class="content-body">
    <form id="agregar-restaurante-form">
        <label for="logo">logo:</label>
        <input type="text" id="logo" name="logo" required><br>
        <label for="nombre">nombre:</label>
        <input type="email" id="nombre" name="nombre" required><br>
        label for="editar">editar:</label>
        <input type="button" id="editar" name="editar" required><br>
        <button type="submit">Guardar</button>
    </form>
</div>
`;

        document.getElementById("agregar-restaurante-form")
            .addEventListener("submit", function (event) {
                event.preventDefault();
                const formData = new FormData(event.target);

                const restauranteData = {
                    logo_restaurante: formData.get("logo"),
                    nombre: formData.get("nombre"),
                    contrasena: formData.get("contrasena"),
                };

                fetch("http://localhost:4000/create/restaurantes", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(restauranteData),
                })
                    .then((response) => response.json())
                    .then((data) => {
                        alert("restaurante agregado exitosamente");
                        cargarrestaurantes();
                    })
                    .catch((error) => {
                        console.error("Error al agregar el restaurante:", error);
                    });
            });
    }
</script>